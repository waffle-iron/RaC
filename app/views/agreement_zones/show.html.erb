<% toolbar = Theme::Toolbar.new %>
<% toolbar.add_button 'Editar', edit_agreement_zones_path(@agreement_zone.agreement, @agreement_zone.zone), 'edit' %>
<% toolbar.add_button 'Lista', agreement_path(@agreement_zone.agreement), 'view-list-alt' %>

<%= render '/layouts/block_header' %>

<%= card ['Acuerdo: Zona', 'Detalles de zona'], toolbar do %>
  <%= card_text_field_readonly @agreement_zone.agreement.company&.name, label: 'Empresa' %>
  <%= card_text_field_readonly @agreement_zone.zone&.name, label: 'Zona' %>
<% end %>

<%= card ['Acuerdo - Zona: Grupos', "Grupos asignados: #{@agreement_zone.groups.count}"] do %>
  <%= render partial: 'group_list', locals: {agreement_zone: @agreement_zone, mode: :show} %>
<% end %>

<%= card ['Acuerdo - Zona: Tramos', "Tramos asignados: #{@agreement_zone.group_sections.count}"] do %>
  <%= render partial: 'group_section_list', locals: {agreement_zone: @agreement_zone, mode: :show} %>
<% end %>

<%= card ['Acuerdo - Zona: Impuestos', "Impuestos asignados: #{@agreement_zone.taxes.count}"] do %>
  <%= render partial: 'tax_list', locals: {agreement_zone: @agreement_zone, mode: :show} %>
<% end %>

<%= card ['Acuerdo - Zona: Seguros', "Seguros asignados: #{@agreement_zone.insurances.count}"] do %>
  <%= render partial: 'insurance_list', locals: {agreement_zone: @agreement_zone, mode: :show} %>
<% end %>

<%= card ['Acuerdo - Zona: Extras', "Extras asignados: #{@agreement_zone.extras.count}"] do %>
  <%= render partial: 'extra_list', locals: {agreement_zone: @agreement_zone, mode: :show} %>
<% end %>
